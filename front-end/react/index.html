<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React 入门 | Billow&#39;s Blog</title>
    <meta name="description" content="Record the life">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/logo.png">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.c0a7e688.css" as="style"><link rel="preload" href="/assets/js/app.22954aa2.js" as="script"><link rel="preload" href="/assets/js/4.add35840.js" as="script"><link rel="preload" href="/assets/js/3.427e9326.js" as="script"><link rel="preload" href="/assets/js/26.c85a6468.js" as="script"><link rel="prefetch" href="/assets/js/10.e7932f30.js"><link rel="prefetch" href="/assets/js/11.1f571763.js"><link rel="prefetch" href="/assets/js/12.0461003d.js"><link rel="prefetch" href="/assets/js/13.f5d001eb.js"><link rel="prefetch" href="/assets/js/14.0f3a0436.js"><link rel="prefetch" href="/assets/js/15.a0497f0b.js"><link rel="prefetch" href="/assets/js/16.ff107bf4.js"><link rel="prefetch" href="/assets/js/17.035e8731.js"><link rel="prefetch" href="/assets/js/18.01094233.js"><link rel="prefetch" href="/assets/js/19.877f6d14.js"><link rel="prefetch" href="/assets/js/20.714d13f8.js"><link rel="prefetch" href="/assets/js/21.9351b853.js"><link rel="prefetch" href="/assets/js/22.414e6bbb.js"><link rel="prefetch" href="/assets/js/23.dd2e1270.js"><link rel="prefetch" href="/assets/js/24.0fa8a240.js"><link rel="prefetch" href="/assets/js/25.1f79c268.js"><link rel="prefetch" href="/assets/js/27.fc774c16.js"><link rel="prefetch" href="/assets/js/28.77a244b4.js"><link rel="prefetch" href="/assets/js/29.7c842a86.js"><link rel="prefetch" href="/assets/js/30.3b341bef.js"><link rel="prefetch" href="/assets/js/31.cf1cf75a.js"><link rel="prefetch" href="/assets/js/32.8a37ac97.js"><link rel="prefetch" href="/assets/js/33.f3db3e06.js"><link rel="prefetch" href="/assets/js/34.f3d049d9.js"><link rel="prefetch" href="/assets/js/35.0403648c.js"><link rel="prefetch" href="/assets/js/36.f6c57d27.js"><link rel="prefetch" href="/assets/js/37.2bc661c7.js"><link rel="prefetch" href="/assets/js/38.f17264dc.js"><link rel="prefetch" href="/assets/js/5.6d825eed.js"><link rel="prefetch" href="/assets/js/6.603f538b.js"><link rel="prefetch" href="/assets/js/7.cb63a6fa.js"><link rel="prefetch" href="/assets/js/8.5f00453f.js"><link rel="prefetch" href="/assets/js/9.5ad32179.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.b83442b7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c0a7e688.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Billow's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/archive/" class="nav-link">
  存档
</a></div><div class="nav-item"><a href="/front-end/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/back-end/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  其他技术
</a></div><div class="nav-item"><a href="/notebook/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  读书笔记
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/archive/" class="nav-link">
  存档
</a></div><div class="nav-item"><a href="/front-end/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/back-end/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  其他技术
</a></div><div class="nav-item"><a href="/notebook/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  读书笔记
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="react的生命周期"><a href="#react的生命周期" class="header-anchor">#</a> react的生命周期</h3> <blockquote><p>在组件的整个生命周期中，随着组件的props或者state发生改变，其DOM表现也会有相应的变化。一个组件就是一个状态机，对于特定地输入，它总返回一致的输出。一个React组件的生命周期分为三个部分：实例化、存在期和销毁时。</p></blockquote> <h4 id="实例化-第一次"><a href="#实例化-第一次" class="header-anchor">#</a> 实例化(第一次)</h4> <h5 id="客户端"><a href="#客户端" class="header-anchor">#</a> 客户端</h5> <div class="language-下列方法依次被调用 extra-class"><pre class="language-text"><code>  1. getDefaultProps()
  2. getInitialState()
  3. componentWillMount()
  4. render()
  5. componentDidMount() //发送ajax 或者 设定定时器
</code></pre></div><h5 id="服务端"><a href="#服务端" class="header-anchor">#</a> 服务端</h5> <div class="language-下列方法依次被调用 extra-class"><pre class="language-text"><code>  1. getDefaultProps()
  2. getInitialState()
  3. componentWillMount()
  4. render()
  //5. componentDidMount() 该方法不会被调用（同构注意这一点） 
</code></pre></div> <h4 id="存在期"><a href="#存在期" class="header-anchor">#</a> 存在期</h4> <blockquote><p>此时组件已经渲染好并且用户可以与它进行交互，比如鼠标点击，或者其它的一些事件(发送请求的时候<code>dispatch()</code>)，导致应用状态的改变(<code>state</code> 或者 <code>props</code>)，下面的方法依次被调用</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>  1. componentWillReceiveProps(nextProps) 
  2. shouldComponentUpdate(nextProps, nextState) //默认true，返回 false 3-4-5 都不会被调用
  3. componentWillUpdate(nextProps, nextState) //类似前面的componentWillMount()
  4. render() 
  5. componentDidUpdate(prevProps, prevState) //类似componentDidMount()
</code></pre></div><h4 id="销毁期"><a href="#销毁期" class="header-anchor">#</a> 销毁期</h4> <p><strong>componentWillUnmount()</strong></p> <blockquote><p>每当React使用完一个组件，这个组件必须从 DOM 中卸载后被销毁，此时 componentWillUnmout 会被执行，完成所有的清理和销毁工作，在 conponentDidMount 中添加的任务都需要再该方法中撤销，如创建的定时器或事件监听器。</p></blockquote> <p><a href="https://facebook.github.io/react/docs/react-component.html" target="_blank" rel="noopener noreferrer">React LifeCycle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://segmentfault.com/a/1190000004168886" target="_blank" rel="noopener noreferrer">React LifeCycle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <img src="http://omla9ld8j.bkt.clouddn.com/IZ%28%5BWD%7BRART1EV0U%7BZ67GB6.png" alt="React LifeCycle"></p> <hr> <h3 id="react的几种写法区别"><a href="#react的几种写法区别" class="header-anchor">#</a> react的几种写法区别</h3> <h4 id="es5-写法"><a href="#es5-写法" class="header-anchor">#</a> ES5 写法</h4> <div class="language- extra-class"><pre class="language-text"><code>  //Photo组件
  var Photo = React.createClass({
      getDefaultProps: function() {
          return {
              height: 50
          };
      },
      getInitialState: function() {
          return {
              width: 50
          };
      },
      handleClick: function() {

      }, //自动绑定this scope
      propTypes: {
          height: React.PropTypes.number.isRequired
      },
      render: function() {
          return (
              &lt;Image height={this.props.height} onClick={this.handleClick}/&gt;
          );
      },
  }); 
</code></pre></div><h4 id="es6写法"><a href="#es6写法" class="header-anchor">#</a> ES6写法</h4> <div class="language- extra-class"><pre class="language-text"><code>   //Photo组件
   class Photo extends React.Component {
       constructor(props) {
           this.state = { width : 10 };
           //this.handleClick = this.handleClick.bind(this);
           //上面写了,这里才可以这么用 onClick={this.handleClick}
           //这次项目里面全部是ES6 this.signClick = () =&gt; {} 定义的，
           //并没有在构造函数里面绑定，所以运行时候没有报错
       }
       handleClick() {
        //和ES5 相比较
       }
       render() {  // 函数名简写 
           return (
               &lt;Image height={this.props.height} onClick={ () =&gt; {this.handleClick}}/&gt;
           );
       }
   }
   Photo.defaultProps = {
      height: 50
   };
   Photo.propTypes = {
       height: React.PropTypes.number.isRequired
   };

   //ES7  
   // static成员在IE10及之前版本不能被继承，而在IE11和其它浏览器上可以
   class Photo extends React.Component {
       static defaultProps = {
           height: 50   
       };  // 注意这里有分号
       static propTypes = {
           height: React.PropTypes.number.isRequired
       };  
       render() {  // 函数名简写 
           return (
               &lt;Image height={this.props.height} /&gt;
           );
       }
   }
</code></pre></div><h3 id="es6-module"><a href="#es6-module" class="header-anchor">#</a> <code>ES6 module</code></h3> <div class="language-export与export default extra-class"><pre class="language-text"><code>   //export class IndexList extends Component{}
   导出
   import { IndexList } from './index.js'
   //export  default class IndexList extends Component{}
   导出
   import IndexList/anyName from './index.js'

   2. import IndexList from './common'
   这种写法会自动去寻找 common 目录下 index 文件，(后缀省略是在webpack里面配置的)
   resolve: {
       extensions: ['', '.js', '.jsx'], //后缀名自动补全
   }
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/20/2020, 2:09:37 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.22954aa2.js" defer></script><script src="/assets/js/4.add35840.js" defer></script><script src="/assets/js/3.427e9326.js" defer></script><script src="/assets/js/26.c85a6468.js" defer></script>
  </body>
</html>
